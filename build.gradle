plugins {
  id 'java'
  
  //these have to be in the main project for now see - https://discuss.gradle.org/t/how-do-i-include-buildscript-block-from-external-gradle-script/7016/2
  id "com.github.kt3k.coveralls" version "2.6.3" 
  id "de.aaschmid.cpd" version "1.0"
  id "org.owasp.dependencycheck" version "1.4.4"
}
apply from: 'eclipse.gradle'
apply from: 'maven-central.gradle'
apply from: 'code-quality.gradle'

sourceCompatibility = 1.8
targetCompatibility = 1.8

if(project.version == "unspecified"){
  String now = new Date().format( 'MMM-dd-yyyy_HH-mm-ss' )
  project.version = "5.0.0-${now}-SNAPSHOT"
}

repositories {
  jcenter()
}

dependencies {
  compile 'org.slf4j:slf4j-api:latest.integration'
    
  testCompile 'junit:junit:latest.integration', 
    'org.springframework.boot:spring-boot-starter-logging:latest.integration',
    'org.bouncycastle:bcprov-jdk15on:latest.integration',
    'net.lingala.zip4j:zip4j:latest.integration',
    'org.kamranzafar:jtar:latest.integration'
}

test { //show test output
  testLogging.showStandardStreams = true
}